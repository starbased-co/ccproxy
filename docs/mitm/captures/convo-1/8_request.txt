POST https://api.anthropic.com/v1/messages?beta=true HTTP/1.1
host: api.anthropic.com
connection: keep-alive
Accept: application/json
X-Stainless-Retry-Count: 0
X-Stainless-Timeout: 60
X-Stainless-Lang: js
X-Stainless-Package-Version: 0.55.1
X-Stainless-OS: Linux
X-Stainless-Arch: x64
X-Stainless-Runtime: node
X-Stainless-Runtime-Version: v24.4.1
anthropic-dangerous-direct-browser-access: true
anthropic-version: 2023-06-01
authorization: Bearer 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
x-app: cli
User-Agent: claude-cli/1.0.62 (external, cli)
content-type: application/json
anthropic-beta: oauth-2025-04-20,fine-grained-tool-streaming-2025-05-14
x-stainless-helper-method: stream
accept-language: *
sec-fetch-mode: cors
accept-encoding: br, gzip, deflate
content-length: 692

{"model":"claude-3-5-haiku-20241022","max_tokens":512,"messages":[{"role":"user","content":"What version of Python does this project use?"}],"system":[{"type":"text","text":"Analyze if this message indicates a new conversation topic. If it does, extract a 2-3 word title that captures the new topic. Format your response as a JSON object with two fields: 'isNewTopic' (boolean) and 'title' (string, or null if isNewTopic is false). Only include these fields, no other text."}],"temperature":0,"metadata":{"user_id":"user_19f2f4ee153d47fb2ef3e7954239ff16d3bff6daddd7cac0b1e7e3794fcaae80_account_a929b7ef-d758-4a98-b88e-07166e6c8537_session_2bd9195f-505d-444f-85b1-c5590a1101dd"},"stream":true}