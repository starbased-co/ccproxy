ccproxy:
  debug: true
  handler: "ccproxy.handler:CCProxyHandler"

  # OAuth token sources - shell commands to retrieve tokens for each provider
  # Uncomment and configure after setting up your credentials file
  # oat_sources:
  #   # Simple string form - for Claude Code OAuth
  #   anthropic: "jq -r '.claudeAiOauth.accessToken' ~/.claude/.credentials.json"
  #
  #   # Extended form with custom User-Agent
  #   # gemini:
  #   #   command: "jq -r '.access_token' ~/.gemini/oauth_creds.json"
  #   #   user_agent: "MyApp/1.0.0"

  hooks:
    - ccproxy.hooks.rule_evaluator # evaluates rules against request
    - ccproxy.hooks.model_router # routes to appropriate model (coupled with rule_evaluator)
    - ccproxy.hooks.capture_headers # captures all HTTP headers with sensitive value redaction
    # Hook with params example - capture only specific headers:
    # - hook: ccproxy.hooks.capture_headers
    #   params:
    #     headers: [user-agent, x-request-id, content-type]
    - ccproxy.hooks.forward_oauth # forwards oauth token to provider (place after routing logic)
    # - ccproxy.hooks.forward_apikey # forwards x-api-key header from request (enable if needed)

  # uses the original model that Claude Code requested when no routing rule matches.
  # NOTE: model deployments in config.yaml are still required
  default_model_passthrough: true
  rules: []

litellm:
  host: 127.0.0.1
  port: 4000
  num_workers: 4
  debug: true
  detailed_debug: true
